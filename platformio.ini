; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

; ============================================
; Configuration ESP32
; ============================================
; Utilisation: pio run -e esp32dev -t upload
; Le mode et le module sont sélectionnés via #define dans main.cpp
[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

; Dépendances LoRa
lib_deps = 
	xreef/EByte LoRa E220 library@^1.0.8
	sandeepmistry/LoRa@^0.8.0

; Vitesse d'upload
upload_speed = 921600

; Chemins d'inclusion pour la nouvelle structure
build_flags = 
	-I src
	-I src/lora
	-I src/security
	-I src/protocol
	-I src/sensors
	-I src/storage
	-I src/utils
	-I src/modes

; Compiler tous les fichiers dans les sous-dossiers
build_src_filter = 
	+<*.cpp>
	+<*.h>
	+<lora/*.cpp>
	+<security/*.cpp>
	+<protocol/*.cpp>
	+<storage/*.cpp>
	+<utils/*.cpp>
	-<modes/main_complet.cpp>
	-<modes/main_simple.cpp>
	-<modes/main_xl1278.cpp>
	-<modes/main_dual.cpp>
	-<modes/main_dual_complet.cpp>

; ========================================